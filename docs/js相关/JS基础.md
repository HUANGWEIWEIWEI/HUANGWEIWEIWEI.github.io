# 2.JS基础

## 2.1 js在网页中的引入
行内式：
```
<input type="button" onclick="alert(112)">
```
内嵌式：
```
写在<script>js代码</script>中
```
外链式：
```
链接js文件,用外链就不能在 script 标签中填写 js 代码，填了也无效
<script src="./index.js"></script>
```
js 文件一般加载在后面，在前面会网页加载影响速度  
js 代码由浏览器解析执行


## 2.2 JS的变量

### 2.2.1.创建方式

var ----- ES3 声明一个变量

let ----- ES6 声明一个变量

const ----- ES6 声明一个常量

function ----- 声明一个函数

class ----- 创建一个类

import/require ----- 基于ES6Module或CommonJS规范导入模块

### 2.2.2.命名规范

1.严格遵循大小写

2.不能使用关键字和保留字

3.驼峰命名法

>一些常见的有特殊含义的词组  
add/insert/create----创建  
del/delete/remove----删除  
update---------------修改  
select/query/get-----查询  
info-----------------信息  

4.命名规则

>使用 $ _ 英文字母 数字 命名  
$开头一般代表使用JQ或者其他使用$的类库获取的内容  
_开头一般代表全局或者公共的变量  
数字不能出现在变量名的开头，但可以出现在其他地方用以区分相似名称的变量  
若想分隔单词，可以使用驼峰或_符号，但不能用中文的-符号，虽不会报错，但强烈不推荐  

## 2.3 JS的数据类型

### 2.3.1 基本数据类型（值类型/原始型）

#### number

##### 包含
整数负数和0
NaN -----与任何值都不相等包括它本身  
Infinity -----无穷大的值  

##### isNaN
isNaN() 函数用于检查其参数是否是非数字值  
返回值为true或者false  

##### 其他类型转数字类型

###### Number([value]) -----JS内置的转换方法

> isNaN在检测的时候，==比较的时候，数学运算的时候；会用到此方法

1.字符串->数字

都是有效数字字符的字符串-->具体的数字  
字符串中存在非有效字符-->NaN  
空字符串-->0  

2.布尔->数字

true-->1  
false-->0  

3.空->数字

null-->0  
undefine-->NaN  

4.Symbol->数字

不能，会报错

5.对象->数字

过程:先把obj转化为字符串"[object Object]" 再把字符串转化为Number("[object Object]")

空数组对象-->0  
其余对象-->NaN  

6.函数-->数字

过程:先把对象转化为字符串，再把字符串转化为数字

都是NaN

###### parseInt([value])和parseFloat([value])

原理：把字符串转化为数字类型（如果处理的值不是字符串，需要先转化为字符串再转化为数字类型）  

即只对string有效   

定义：从字符串最左边开始找，把找到的有效数字转化为数字，直到遇到一个非有效字符，再结束查找（第一个字符不是数字就直接返回NaN了）  

parseFloat比parseInt多识别一位小数点  

```js
//--------------------字符串转数字---------------------------
 2     var s = "234";
 3     //1、纯数字转换
 4 
 5     //1 字符串在运算操作中会被当做数字类型来处理
 6     s *= 1;
 7 
 8     //2 字符前加“+”
 9     console.log(+s);
10 
11     //3 string的两个转换函数，只对string有效
12     parseInt(s); // 234
13     parseFloat(s); //234
14 
15     //4 强制类型转换
16     Number(s); // 234
17 
18 
19 
20     //2、数字加字母等非数字转换
21     var s = '234string';
22     parseInt(s);　//234
23     parseFloat(s);  //234.0
```

>toFix(N) 数字.toFix(N) 保留小数点后N位，最后结果是一个string
Max_SAFE_INTEGER 最大安全数（js能识别的最大安全整数） 9007199254740991 ·注意：ES6又提供了一个新数据类型BigInt


#### string

单、双、反引号包起来的都是字符串

##### 其它类型转字符串类型

方法：String([value]) 和 [value].toString()

隐式转换：字符串拼接时；对象转换为数字时要先转换为字符串

普通对象转字符串 "[object object]"

数组对象转字符串 用逗号分隔数组的每一项 "第一项,第二项,..."

##### 字符串的数学运算

取余 %(膜)

加减乘除的数学运算---如果遇到非数字类型，需要基于Number方法强制转换成数字然后运算

**加的字符串拼接**

只要加的任意一边出现字符串，则为字符串拼接

对象转数字需要先转换为字符串，变为字符串后直接拼接，不再转为数字

```js
console.log(100+true+21.2+null+undefined+'tencent'+[]+null+9+false)
//NaNtencentnull9false
```

真实项目中经常把一些变量的值拼接到指定的字符串中

传统的拼接方式
    在字符串中基于"++"或'++'的方式把变量拼接到字符串中
    let result=year+'年'+mounth+'月'+day+'日'+hours+':'+minutes+':'+seconds
    这种方式涉及很多恶心的规则，容易拼错

ES6中的模板字符串
    `${}` ---在${}中存放变量或其他JS表达式即可
    let result=`${year}年${mounth}月${day}日${hours}：${minutes}：${seconds}`
    很简单

#### boolean

包含true和false

##### 其他类型转布尔类型

方法：Boolean([value]) 和 ![value] 和 !![value]

值：除了 0 '' NaN null undefine 这 五个为false，其余都为true

条件判断时 每一个条件最后一定是true/false if(1==1){...}
只写一个值，也要把这个值转化为布尔，再校验程序的真假 if(1){...}

#### null

#### undefined

#### symbol

### 2.3.2 引用数据类型

#### object

> {...} [...] /^$/ data Math
普通对象，数组对象，正则对象，日期对象，数学函数对象

特点：
用键值对来描述一个对象的特征，每一个对象都是综合体，存在零到多组键值对
{key:value,...}每组键值对都是key:value的格式，多组键值对用逗号分隔
key不能是引用数据类型，value可以是任何的数据类型

键值对：
1.获取
    获取值
        1.对象.属性名 此方法属性名不能是数字
        2.对象[属性名] 此方法属性名要是值而不是变量，它会把变量储存的值当做对象的属性名进行操作
        如果指定的属性不存在，获取到的属性值将是undefined，不会报错！
    获取属性名
        Object.key(对象)----返回当前对象所有属性名的数组
2.新增|修改
    对象的属性名不允许重复哦
    之前没有则为新增
    之前有则为修改对应的属性值
3.删除
    假删除 object.name=null 对象的属性还在但属性值为空
    真删除 delete obj.name 对象的属性没了

引用数据类型不能作为属性名,
对象属性名不是字符串就会调用toString转字符串，如果不能转报错
Object的toString是[Object object]
```js
let n={
    x:100
};
let m=[100,200];
let obj={};
obj[n]="张三";//=>obj[{X:100}] 但是对象不能作为属性名，会自动将其转换为字符串 =>{"[object Object]":"张三"}
obj[m]="李四";//=>obj[[100,200]]=>{"100，200":"李四"}
console.log(obj);

//{[object Object]: "张三", 100,200: "李四"}
```

数组

数组是特殊的对象
它的属性名是数字，数字从0开始逐增----这种数字属性名叫做“索引”
默认有一个length属性存储数组的长度


#### function

### 2.3.3 应用拓展--相互转换、堆栈内存

#### 1.条件判断里的相互转换规则

数字==字符串 字符串转数字，再比较  

数字==布尔 布尔转数字  

字符串==布尔 两者都转数字  

对象==数字 对象转数字  

对象==字符串 对象转字符串  

对象==布尔 两者转数字  

对象==对象 主要看空间地址 空间地址相同则true，反之false  

规律： 处理字符串和对象比较时，要把对象转为字符串；其余都先转为数字类型再比较  

特殊：   
NaN和其他值永不相等  
null和undefined不等于任何一个数据类型，  
但是，  
null==undefined true  
null===undefined false  

#### 2.数据类型之间的区别（堆栈内存）

webkit底层运行机制  
    底层渲染过程  
        1.浏览器打开页面，浏览器引擎自上而下渲染执行代码  
        2.执行代码时会给它一个环境ECStack（Execution Context Stack执行环境栈）=>栈内存stack  
        3.最开始执行的是全局代码，所以会形成一个EC（GLOBAL）全局上下文，在栈内存中执行全局的代码  
        4.在全局的执行上下文中有一个VO(GLOBAL)全局变量对象，可以把接下来定义的变量和对应的值储存到这里面  
    内存的概念  
        Stack 栈内存 内存条 供代码自上而下执行，储存基本类型值  
        Heap 堆内存 硬盘 储存引用类型值  
        堆栈内存，就是在计算机内存中分配出来一块空间，用来执行和储存代码  

基本数据类型（值类型）  
    结构简单，直接把创建的值存到“栈内存”中即可  
    定义一个变量的3个步骤 let a=12;  
        1.创建一个值，直接存在栈内存中  
        2.创建一个变量a，存在VO(GLOBAL)中  
        3.让创建的变量a和创建的值12关联在一起=> =赋值的操作  
    图例   
    ![](https://gitee.com/hello_hww/img/raw/master/img1/20200627093654.png)

引用数据类型  
    结构复杂，一个综合体，包含很多值  
    所以要单独开辟空间（堆内存）来储存  
    定义一个对象的3个步骤 let n={...}  
        1.创建值  
            开辟一个堆内存（heap），每个堆都有一个16进制的地址  
            把对象中的键值对分别储存到堆内存中  
            把堆内存的地址放在栈内存中，供变量引用  
        2.创建一个变量  
        3.让变量和之前创建的堆内存的地址关联  
    图例  
    ![](https://gitee.com/hello_hww/img/raw/master/img1/20200627095812.png)

